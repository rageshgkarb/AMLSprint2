<template>
            <div >
                <form name="myform" novalidate="novalidate">
                     <div class="row">
                        <div class="col-md-9">
                            <div class="SectionHeader">
                                <div class="numberCircleReverse">1</div>
                                <div>Product Details</div>
                            </div>
                            <div class="PanelContents">
                                <template if:true={isExistingAlRayanIsa}>
                                <div class="DPAText" >
                                    As you have subscribed to your ISA allowance in this current tax year, you will need to transfer this whole amount to your new ISA
                                </div>
                                </template>
                                <div>
                                    <div>
                                        <label class="control-label">Do you currently hold an ISA with Al Rayan Bank which you have subscribed to this tax year?</label>
                                        <c-tooltip-utility class="pull-right" style="white-space: pre-line" helptext="The tax year runs from 6 April to 5 April in the following year.
                                         You can only apply for one ISA per tax year."></c-tooltip-utility>
                                    </div>
                                    <div>
                                        <label class="radio-inline"><input type="radio" name="optExistingAlRayanIsa" value="yes" onchange={onExistingAlRayanIsa} />Yes</label>
                                        <label class="radio-inline"><input type="radio" name="optExistingAlRayanIsa" value="no" onchange={onExistingAlRayanIsa}  />No</label>
                                    </div>
                                    <hr/>
                                    
                                    
                                    <div>
                                        <label class="control-label">For which tax year are you applying?</label>    
                                    </div>
                                    <div>
                                        <template for:each={ISAYears} for:item="y">
                                            <label key={y} class="radio-inline">
                                                <input key={y} type="radio" name="optIsaYears" value={y} onchange={onISAYear} />{y}</label>
                                        </template>
                                        
                                    </div>
                                    <hr/>
                                    
                                    <div>
                                        <label class="control-label">Please provide your national insurance number</label>    
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <input type="text"  name="ni" required  class="form-control arbBox" onchange={onNi}  onkeyup={onNi} maxlength="9" />
                                        </div>
                                    </div>
                                    <hr/>
                                    
                                    <div class="SectionTitle">
                                        Linked account details
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <label class="control-label">Account number</label>
                                            <c-tooltip-utility class="pull-right" helptext="The number of the account where we will pay any funds which are deposited in excess of the annual ISA allowance. This cannot be another ISA."></c-tooltip-utility>
                                            <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control arbBox" name="isa-account" maxlength="8" onchange = {onLinkedAccountNumber} onkeyup={onLinkedAccountNumber}  onfocusout={onLinkedAccountNumber} minlength="8" required />
                                            <c-caa-input-error data-id="isa-account" ermaxlength=8 erminlength=8 errequired=true></c-caa-input-error>
                                        </div>
                                        <!-- check-->
                                        <div class="col-sm-4">
                                            <label class="control-label">Sort Code</label>
                                            <c-tooltip-utility class="pull-right" helptext="The sort code of the account where we will pay any funds which are deposited in excess of the annual ISA allowance. This cannot be another ISA"></c-tooltip-utility>
                                            <input type="text" inputmode="numeric" pattern="[0-9]*" class="form-control arbBox" name="isa-sort" maxlength="6" onchange = {onLinkedSortCode} onkeyup={onLinkedSortCode} onfocusout={onLinkedSortCode} minlength="6" required  />
                                            <c-caa-input-error data-id="isa-sort" ermaxlength=6 erminlength=6 errequired=true></c-caa-input-error>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="DPAText">
                                        <div class="">
                                            <label>I apply to subscribe to a cash ISA for the current tax year and each subsequent year until further notice.</label>
                                        </div>
                                        <div class="">
                                            <label>I declare that.</label>
                                        </div>
                                        <div style="font-weight:normal;">
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA1" onchange={onISA1Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>All subscriptions made, and to be made, belong to me</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA2" onchange={onISA2Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I am 16 years of age or over</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA3" onchange={onISA3Change}  />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I have not subscribed and will not subscribe more than the overall subscription limit to any combination of permitted ISAs in the same tax year</label>
                                                </div>        
                                            </div>   
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA4" onchange={onISA4Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I have not subscribed and will not subscribe to another cash ISA in the same tax year that I subscribe to this cash ISA</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA5" onchange={onISA5Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I am resident and ordinarily resident in the United Kingdom for tax purposes or, if not so resident, either perform duties which, by virtue of section 28 of Income Tax (Earnings and Pensions) Act 2003 (Crown employees serving overseas), are treated as being performed in the United Kingdom, or I am married to, or in a civil partnership (couples registered under the Civil Partnership Act 2004) with a person who performs such duties. I will inform you if I cease to be so resident or to perform such duties or be married to, or in a civil partnership with, a person who performs such duties</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA6" onchange={onISA6Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I authorise Al Rayan Bank PLC to make on my behalf any claim to relief from tax in respect of my ISA investments held with Al Rayan Bank PLC</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA7" onchange={onISA7Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I authorise Al Rayan Bank PLC to hold my cash subscriptions and any profit earned from those cash subscriptions</label>
                                                </div>        
                                            </div>
                                            <div class="row">
                                                <div class="col-xs-1">
                                                    <input type="checkbox" name="chkISA8" onchange={onISA8Change} />
                                                </div>
                                                <div class="col-xs-10">
                                                    <label>I authorise Al Rayan Bank PLC to transfer any subscriptions in excess of the annual ISA allowance into my nominated linked savings account, the details of which I have provided in the section titled ‘Products and Services’. Where indicated I authorise Al Rayan Bank PLC to open an On Demand Savings Account in my name, and in this case, signing this application constitutes my agreement to be bound and governed by the Al Rayan Bank PLC On Demand Savings Account Special Conditions</label>
                                                </div>        
                                            </div>
                                                                                     
                                        </div>
                                    </div>
                                    
                                </div>
                                <div style="padding-top:5px;">
                                     <template if:true={isShowCompleteButton}>
                                    <button class="btn btnArb" onclick={CompleteISATerms}>Next</button>
                                     </template>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <template if:true={IsGuest}>
                            <c-caa-progress stage="1"></c-caa-progress>
                            </template>
                        </div>
                    </div>
                </form>
            </div>
            <c-caa-message-broker></c-caa-message-broker>
</template>